<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image processing &mdash; Machine Vision Toolbox 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Color operations" href="imagecolor.html" />
    <link rel="prev" title="Image class core" href="image.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Machine Vision Toolbox
            <img src="_static/VisionToolboxLogo_CircBlack.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="image_class.html">Class reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="image_class.html#image-class-core">Image class core</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="image_class.html#image-processing">Image processing</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Image processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin"><code class="docutils literal notranslate"><span class="pre">ImageProcessingBaseMixin</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="imagecolor.html">Color operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="kernel.html">Spatial operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="morph.html">Morphological operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="image_class.html#feature-extraction">Feature extraction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="image_functions.html">Function reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine Vision Toolbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="image_class.html">Class reference</a></li>
      <li class="breadcrumb-item active">Image processing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/imageproc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="image.html" class="btn btn-neutral float-left" title="Image class core" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="imagecolor.html" class="btn btn-neutral float-right" title="Color operations" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-processing">
<h1>Image processing<a class="headerlink" href="#image-processing" title="Permalink to this heading"></a></h1>
<p>These functions perform image processing operations on grey-scale and color images.</p>
<dl class="py class">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">machinevisiontoolbox.ImageProcessingBase.</span></span><span class="sig-name descname"><span class="pre">ImageProcessingBaseMixin</span></span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin" title="Permalink to this definition"></a></dt>
<dd><p>Image processing basic operations on the Image class</p>
<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.decimate">
<span class="sig-name descname"><span class="pre">decimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.decimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.decimate" title="Permalink to this definition"></a></dt>
<dd><p>Decimate an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>integer</em>) – decimation factor TODO probably not the correct term</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation for Gaussian kernel smoothing</p></li>
</ul>
</dd>
<dt class="field-even">Return out</dt>
<dd class="field-even"><p>Image decimated image</p>
</dd>
<dt class="field-odd">Rtype out</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.idecimate(m)</span></code> is a decimated version of the image whose size is
reduced by m (an integer) in both dimensions.  The image is smoothed
with a Gaussian kernel with standard deviation m/2 then subsampled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.idecimate(m,</span> <span class="pre">sigma)</span></code> as above but the standard deviation of the
smoothing kernel is set to <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the image has multiple planes, each plane is decimated.</p></li>
<li><p>Smoothing is used to eliminate aliasing artifacts and the
standard deviation should be chosen as a function of the maximum
spatial frequency in the image.</p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.float">
<span class="sig-name descname"><span class="pre">float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floatclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.float" title="Permalink to this definition"></a></dt>
<dd><p>Convert image to float type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>floatclass</strong> (<em>str</em>) – ‘single’, ‘double’, ‘float32’ [default], ‘float64’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with floating point pixel types</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.float()</span></code> is a copy of image with pixels converted to
<code class="docutils literal notranslate"><span class="pre">float32</span></code> floating point values spanning the range 0 to 1. The
input integer pixels are assumed to span the range 0 to the maximum
value of their integer class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.float(im,</span> <span class="pre">floatclass)</span></code> as above but with floating-point pixel
values belonging to the class <code class="docutils literal notranslate"><span class="pre">floatclass</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im_float&#39; is not defined</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control, Section 12.1, P. Corke,
Springer 2011.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.hist">
<span class="sig-name descname"><span class="pre">hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.hist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.hist" title="Permalink to this definition"></a></dt>
<dd><p>Image histogram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbins</strong> (<em>integer</em>) – number of bins for histogram</p></li>
<li><p><strong>opt</strong> (<em>string</em>) – histogram option</p></li>
</ul>
</dd>
<dt class="field-even">Return hist</dt>
<dd class="field-even"><p>histogram h as a column vector, and corresponding bins x,</p>
</dd>
</dl>
<p>cdf and normcdf
:rtype hist: collections.namedtuple</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.hist()</span></code> is the histogram of intensities for image as a vector.
For an image with  multiple planes, the histogram of each plane is
given in a separate column. Additionally, the cumulative histogram
and normalized cumulative histogram, whose maximum value is one, are
computed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.hist(nbins)</span></code> as above with the number of bins specified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.hist(opt)</span></code> as above with histogram options specified</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><ul class="simple">
<li><p>‘sorted’ histogram but with occurrence sorted in descending
magnitude order.  Bin coordinates X reflect this sorting.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The bins spans the greylevel range 0-255.</p></li>
<li><p>For a floating point image the histogram spans the greylevel
range 0-1.</p></li>
<li><p>For floating point images all NaN and Inf values are first
removed.</p></li>
<li><p>OpenCV CalcHist only works on floats up to 32 bit, images are
automatically converted from float64 to float32</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.int">
<span class="sig-name descname"><span class="pre">int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uint8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.int" title="Permalink to this definition"></a></dt>
<dd><p>Convert image to integer type</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>intclass</strong> (<em>str</em>) – either ‘uint8’, or any integer class supported by np</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with integer pixel types</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.int()</span></code> is a copy of image with pixels converted to unsigned
8-bit integer (uint8) elements in the range 0 to 255.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.int(intclass)</span></code> as above but the output pixels are converted to
the integer class <code class="docutils literal notranslate"><span class="pre">intclass</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go">  File &quot;/opt/hostedtoolcache/Python/3.7.15/x64/lib/python3.7/site-packages/machinevisiontoolbox/base/imageio.py&quot;, line 568, in convert</span>
<span class="go">    image = float_image(image, dtype)</span>
<span class="go">  File &quot;/opt/hostedtoolcache/Python/3.7.15/x64/lib/python3.7/site-packages/machinevisiontoolbox/base/imageio.py&quot;, line 694, in float_image</span>
<span class="go">    raise ValueError(&#39;bad float type&#39;)</span>
<span class="go">ValueError: bad float type</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im_int&#39; is not defined</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Works for an image with arbitrary number of dimensions, eg. a
color image or image sequence.</p></li>
<li><p>If the input image is floating point (single or double) the
pixel values are scaled from an input range of [0,1] to a range
spanning zero to the maximum positive value of the output integer
class.</p></li>
<li><p>If the input image is an integer class then the pixels are cast
to change type but not their value.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control, Section 12.1, P. Corke,
Springer 2011.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.meshgrid">
<span class="sig-name descname"><span class="pre">meshgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.meshgrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.meshgrid" title="Permalink to this definition"></a></dt>
<dd><p>Domain matrices for image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a1</strong> (<em>numpy array</em>) – array input 1</p></li>
<li><p><strong>a2</strong> (<em>numpy array</em>) – array input 2</p></li>
</ul>
</dd>
<dt class="field-even">Return u</dt>
<dd class="field-even"><p>domain of image, horizontal</p>
</dd>
<dt class="field-odd">Rtype u</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
<dt class="field-even">Return v</dt>
<dd class="field-even"><p>domain of image, vertical</p>
</dd>
<dt class="field-odd">Rtype v</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.imeshgrid()</span></code> are matrices that describe the domain of image
<code class="docutils literal notranslate"><span class="pre">im</span> <span class="pre">(h,w)</span></code> and are each <code class="docutils literal notranslate"><span class="pre">(h,w)</span></code>. These matrices are used for the
evaluation of functions over the image. The element <code class="docutils literal notranslate"><span class="pre">u(r,c)</span> <span class="pre">=</span> <span class="pre">c</span></code>
and <code class="docutils literal notranslate"><span class="pre">v(r,c)</span> <span class="pre">=</span> <span class="pre">r</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.imeshgrid(w,</span> <span class="pre">h)</span></code> as above but the domain is <code class="docutils literal notranslate"><span class="pre">(w,h)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.imeshgrid(s)</span></code> as above but the domain is described by <code class="docutils literal notranslate"><span class="pre">s</span></code>
which can be a scalar <code class="docutils literal notranslate"><span class="pre">(s,s)</span></code> or a 2-vector <code class="docutils literal notranslate"><span class="pre">s=[w,h]</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.mono">
<span class="sig-name descname"><span class="pre">mono</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r601'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.mono"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.mono" title="Permalink to this definition"></a></dt>
<dd><p>Convert color image to monochrome</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>opt</strong> (<em>string</em>) – greyscale conversion option ‘r601’ [default] or ‘r709’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with floating point pixel types</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.mono(im)</span></code> is a greyscale equivalent of the color image <code class="docutils literal notranslate"><span class="pre">im</span></code></p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im&#39; is not defined</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;input&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;im_mono&#39; is not defined</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control, Section 10.1, P. Corke,
Springer 2011.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.normhist">
<span class="sig-name descname"><span class="pre">normhist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.normhist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.normhist" title="Permalink to this definition"></a></dt>
<dd><p>Histogram normalisaton</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nbins</strong> (<em>integer</em>) – number of bins for histogram</p></li>
<li><p><strong>opt</strong> (<em>string</em>) – histogram option</p></li>
</ul>
</dd>
<dt class="field-even">Return nim</dt>
<dd class="field-even"><p>Image with normalised image</p>
</dd>
<dt class="field-odd">Rtype nim</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.normhist()</span></code> is a histogram normalized version of the image.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Highlights image detail in dark areas of an image.</p></li>
<li><p>The histogram of the normalized image is approximately uniform,
that is, all grey levels ae equally likely to occur.</p></li>
<li><p>Color images automatically converted to grayscale</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.otsu">
<span class="sig-name descname"><span class="pre">otsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valley</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.otsu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.otsu" title="Permalink to this definition"></a></dt>
<dd><p>Otsu threshold selection</p>
<dl class="field-list simple">
<dt class="field-odd">Return t</dt>
<dd class="field-odd"><p>Otsu’s threshold</p>
</dd>
<dt class="field-even">Rtype t</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">Return imt</dt>
<dd class="field-odd"><p>Image thresholded to a binary image</p>
</dd>
<dt class="field-even">Rtype imt</dt>
<dd class="field-even"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">otsu(im)</span></code> is an optimal threshold for binarizing an image with a
bimodal intensity histogram.  <code class="docutils literal notranslate"><span class="pre">t</span></code> is a scalar threshold that
maximizes the variance between the classes of pixels below and above
the thresold <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">runblock</span><span class="p">::</span> <span class="n">pycon</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Converts a color image to greyscale.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>A Threshold Selection Method from Gray-Level Histograms, N. Otsu.
IEEE Trans. Systems, Man and Cybernetics Vol SMC-9(1), Jan 1979,
pp 62-66.</p></li>
<li><p>An improved method for image thresholding on the valley-emphasis
method. H-F Ng, D. Jargalsaikhan etal. Signal and Info Proc.
Assocn. Annual Summit and Conf (APSIPA). 2013. pp1-4</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.paste">
<span class="sig-name descname"><span class="pre">paste</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'set'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.paste"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.paste" title="Permalink to this definition"></a></dt>
<dd><p>Paste an image into an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pattern</strong> (<em>numpy array</em>) – sub-image super-imposed onto onto canvas</p></li>
<li><p><strong>pt</strong> (<em>2-element vector</em><em> of </em><em>integer coordinates</em>) – coordinates where pattern is pasted</p></li>
<li><p><strong>opt</strong> (<em>string</em>) – options for paste settings</p></li>
<li><p><strong>centre</strong> (<em>boolean</em>) – True if pattern centered at pt, else topleft of pattern</p></li>
<li><p><strong>zero</strong> (<em>boolean</em>) – zero-based coordinates (True) or 1-based coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Return out</dt>
<dd class="field-even"><p>Image with pasted image</p>
</dd>
<dt class="field-odd">Rtype out</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.paste(pattern,</span> <span class="pre">pt)</span></code> is the image canvas with the subimage
<code class="docutils literal notranslate"><span class="pre">pattern</span></code> pasted in at the position <code class="docutils literal notranslate"><span class="pre">pt=[U,</span> <span class="pre">V]</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.paste(pattern,</span> <span class="pre">pt,</span> <span class="pre">centre)</span></code> as above with centre specified. The
pasted image is centred at <code class="docutils literal notranslate"><span class="pre">pt</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">pt</span></code> is the top-left
corner of the subimage in the image (default).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.paste(pattern,</span> <span class="pre">pt,</span> <span class="pre">zero)</span></code> as above with zero specified. The
coordinates of <code class="docutils literal notranslate"><span class="pre">pt</span></code> start at zero, by default (0, 0) is assumed.
TODO shouldn’t this be a point? like <code class="docutils literal notranslate"><span class="pre">origin</span></code> or something</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.paste(pattern,</span> <span class="pre">pt,</span> <span class="pre">opt)</span></code> as above with opt specified as below.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><ul class="simple">
<li><p>‘set’       <code class="docutils literal notranslate"><span class="pre">pattern</span></code> overwrites the pixels in <code class="docutils literal notranslate"><span class="pre">canvas</span></code>
(default).</p></li>
<li><p>‘add’       <code class="docutils literal notranslate"><span class="pre">pattern</span></code> is added to the pixels in <code class="docutils literal notranslate"><span class="pre">canvas</span></code>.</p></li>
<li><p>‘mean’      <code class="docutils literal notranslate"><span class="pre">pattern</span></code> is set to the mean of pixel values
in <code class="docutils literal notranslate"><span class="pre">canvas</span></code> and <code class="docutils literal notranslate"><span class="pre">pattern</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Pixels outside the pasted in region are unaffected.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.peak2">
<span class="sig-name descname"><span class="pre">peak2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npeaks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.peak2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.peak2" title="Permalink to this definition"></a></dt>
<dd><p>Find peaks in a matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>npeaks</strong> (<em>scalar</em>) – number of peaks to return (default all)</p></li>
<li><p><strong>sc</strong> (<em>float</em>) – scale of peaks to consider</p></li>
<li><p><strong>interp</strong> (<em>boolean</em>) – interpolation done on peaks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>peaks, xy locations, ap? TODO</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>collections.namedtuple</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.peak2()</span></code> are the peak values in the 2-dimensional signal
<code class="docutils literal notranslate"><span class="pre">IM</span></code>. Also returns the indices of the maxima in the matrix <code class="docutils literal notranslate"><span class="pre">IM</span></code>.
Use SUB2IND to convert these to row and column.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.peak2(npeaks)</span></code> as above with the number of peaks to return
specifieid (default all).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.peak2(sc)</span></code> as above with scale <code class="docutils literal notranslate"><span class="pre">sc</span></code> specified. Only consider
as peaks the largest value in the horizontal and vertical range +/- S
units.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.peak2(interp)</span></code> as above with interp specified. Interpolate peak
(default no peak interpolation).</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>A maxima is defined as an element that larger than its eight
neighbours. Edges elements will never be returned as maxima.</p></li>
<li><p>To find minima, use PEAK2(-V).</p></li>
<li><p>The interp options fits points in the neighbourhood about the
peak with a paraboloid and its peak position is returned.  In
this case IJ will be non-integer.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.pixelswitch">
<span class="sig-name descname"><span class="pre">pixelswitch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">im2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.pixelswitch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.pixelswitch" title="Permalink to this definition"></a></dt>
<dd><p>Pixel-wise image merge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>numpy array</em>) – image mask</p></li>
<li><p><strong>im2</strong> (<em>numpy array</em>) – image 2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>out</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.pixelswitch(mask,</span> <span class="pre">im2)</span></code> is an image where each pixel is
selected from the corresponding pixel in  image or <code class="docutils literal notranslate"><span class="pre">im2</span></code> according
to the corresponding pixel values in <code class="docutils literal notranslate"><span class="pre">mask</span></code>.  If the element of
<code class="docutils literal notranslate"><span class="pre">mask</span></code> is zero image is selected, otherwise <code class="docutils literal notranslate"><span class="pre">im2</span></code> is selected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im2</span></code> can contain a color descriptor which is one of: a scalar
value corresponding to a greyscale, a 3-vector corresponding to a
color value, or a string containing the name of a color which is
found using COLORNAME.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">im1</span></code>, <code class="docutils literal notranslate"><span class="pre">im2</span></code> and <code class="docutils literal notranslate"><span class="pre">mask</span></code> must all have the same number of
rows and columns (unless <code class="docutils literal notranslate"><span class="pre">im1</span></code> or <code class="docutils literal notranslate"><span class="pre">im2</span></code> are specifying a
color)</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">im1</span></code> and <code class="docutils literal notranslate"><span class="pre">im2</span></code> are both greyscale then <code class="docutils literal notranslate"><span class="pre">out</span></code> is
greyscale.</p></li>
<li><p>If either of <code class="docutils literal notranslate"><span class="pre">im1</span></code> or <code class="docutils literal notranslate"><span class="pre">im2</span></code> are color then <code class="docutils literal notranslate"><span class="pre">out</span></code> is color.</p></li>
<li><p>If either one image is double and one is integer then the integer
image is first converted to a double image.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.plothist">
<span class="sig-name descname"><span class="pre">plothist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.plothist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.plothist" title="Permalink to this definition"></a></dt>
<dd><p>plot first image histogram as a line plot (TODO as poly)
NOTE convenient, but maybe not a great solution because we then need to
duplicate all the plotting options as for idisp?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.replicate">
<span class="sig-name descname"><span class="pre">replicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">M</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.replicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.replicate" title="Permalink to this definition"></a></dt>
<dd><p>Expand image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>M</strong> (<em>integer</em>) – number of times to replicate image</p>
</dd>
<dt class="field-even">Return out</dt>
<dd class="field-even"><p>Image expanded image</p>
</dd>
<dt class="field-odd">Rtype out</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.replicate(M)</span></code> is an expanded version of the image (H,W) where
each pixel is replicated into a (M,M) tile. If <code class="docutils literal notranslate"><span class="pre">im</span></code> is (H,W) the
result is ((M*H),(M*W)) numpy array.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.roi">
<span class="sig-name descname"><span class="pre">roi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.roi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.roi" title="Permalink to this definition"></a></dt>
<dd><p>Extract region of interest</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reg</strong> (<em>numpy array</em>) – region</p></li>
<li><p><strong>wh</strong> (<em>2-element vector</em><em> of </em><em>integers</em><em>, or </em><em>single integer</em>) – width and/or height</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with roi as image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.roi(rect)</span></code> is a subimage of the image described by the
rectangle <code class="docutils literal notranslate"><span class="pre">rect=[umin,</span> <span class="pre">umax;</span> <span class="pre">vmin,</span> <span class="pre">vmax]</span></code>. The function returns the
top, left, bottom and top coordinates of the selected region of
interest, as vectors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.roi(reg,</span> <span class="pre">wh)</span></code> as above but the region is centered at
<code class="docutils literal notranslate"><span class="pre">reg=(U,V)</span></code> and has a size <code class="docutils literal notranslate"><span class="pre">wh</span></code>.  If <code class="docutils literal notranslate"><span class="pre">wh</span></code> is scalar then
<code class="docutils literal notranslate"><span class="pre">W=H=S</span></code> otherwise <code class="docutils literal notranslate"><span class="pre">S=(W,H)</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.stretch">
<span class="sig-name descname"><span class="pre">stretch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.stretch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.stretch" title="Permalink to this definition"></a></dt>
<dd><p>Image normalisation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max</strong> (<em>scalar integer</em><em> or </em><em>float</em>) – M  pixels are mapped to the r 0 to M</p></li>
<li><p><strong>r</strong> (<em>2-tuple</em><em> or </em><em>numpy array</em><em> (</em><em>2</em><em>,</em><em>1</em><em>)</em>) – r[0] is mapped to 0, r[1] is mapped to 1 (or max value)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Image with pixel values stretched to M across r</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.stretch()</span></code> is a normalised image in which all pixel values lie
in the r range of 0 to 1. That is, a linear mapping where the minimum
value of <code class="docutils literal notranslate"><span class="pre">im</span></code> is mapped to 0 and the maximum value of <code class="docutils literal notranslate"><span class="pre">im</span></code> is
mapped to 1.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>For an integer image the result is a float image in the range 0
to max value</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Robotics, Vision &amp; Control, Section 12.1, P. Corke,
Springer 2011.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.testpattern">
<span class="sig-name descname"><span class="pre">testpattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.testpattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.testpattern" title="Permalink to this definition"></a></dt>
<dd><p>Create test images</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>string</em>) – pattern type</p></li>
<li><p><strong>w</strong> (<em>integer</em><em> or </em><em>2-element vector</em>) – image size of output pattern image</p></li>
<li><p><strong>args</strong> (<em>float</em><em> (</em><em>varies</em><em>)</em>) – arguments for test patterns</p></li>
<li><p><strong>kwargs</strong> (<em>dictionary</em>) – keyword arguments for test patterns? Not currently used</p></li>
</ul>
</dd>
<dt class="field-even">Return z</dt>
<dd class="field-even"><p>test pattern image</p>
</dd>
<dt class="field-odd">Rtype z</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">testpattern(type,</span> <span class="pre">w,</span> <span class="pre">args)</span></code> creates a test pattern image.  If
<code class="docutils literal notranslate"><span class="pre">w</span></code> is a scalar the output image has shape <code class="docutils literal notranslate"><span class="pre">(w,w)</span></code> else if
<code class="docutils literal notranslate"><span class="pre">w=(w,h)</span></code> the output image shape is <code class="docutils literal notranslate"><span class="pre">(w,h)</span></code>.  The image is
specified by the string <code class="docutils literal notranslate"><span class="pre">t</span></code> and one or two (type specific)
arguments:</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><ul class="simple">
<li><p>‘rampx’ intensity ramp from 0 to 1 in the x-direction.
ARGS is the number of cycles.</p></li>
<li><p>‘rampy’ intensity ramp from 0 to 1 in the y-direction.
ARGS is the number of cycles.</p></li>
<li><p>‘sinx’ sinusoidal intensity pattern (from -1 to 1) in the
x-direction. ARGS is the number of cycles.</p></li>
<li><p>‘siny’ sinusoidal intensity pattern (from -1 to 1) in the
y-direction. ARGS is the number of cycles.</p></li>
<li><p>‘dots’ binary dot pattern.  ARGS are dot pitch (distance between
centres); dot diameter.</p></li>
<li><p>‘squares’ binary square pattern.  ARGS are pitch (distance
between centres); square side length.</p></li>
<li><p>‘line’  a line.  ARGS are theta (rad), intercept.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.thresh">
<span class="sig-name descname"><span class="pre">thresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'binary'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/machinevisiontoolbox/ImageProcessingBase.html#ImageProcessingBaseMixin.thresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#machinevisiontoolbox.ImageProcessingBase.ImageProcessingBaseMixin.thresh" title="Permalink to this definition"></a></dt>
<dd><p>Image threshold</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>scalar</em>) – threshold</p></li>
<li><p><strong>opt</strong> (<em>string</em>) – threshold option (see below)</p></li>
</ul>
</dd>
<dt class="field-even">Return imt</dt>
<dd class="field-even"><p>Image thresholded binary image</p>
</dd>
<dt class="field-odd">Rtype imt</dt>
<dd class="field-odd"><p>Image instance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>threshold if opt is otsu or triangle</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of scalars</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IM.thresh()</span></code> uses Otsu’s method for thresholding a greyscale
image.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.thresh(t)</span></code> as above but the threshold <code class="docutils literal notranslate"><span class="pre">t</span></code> is specified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IM.thresh(t,</span> <span class="pre">opt)</span></code> as above but the threshold option is specified.
See opencv threshold types for threshold options
<a class="reference external" href="https://docs.opencv.org/4.2.0/d7/d1b/group__imgproc__">https://docs.opencv.org/4.2.0/d7/d1b/group__imgproc__</a>
misc.html#gaa9e58d2860d4afa658ef70a9b1115576</p></li>
</ul>
<p>Example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><ul class="simple">
<li><p>‘binary’ # TODO consider the LaTeX formatting of equations</p></li>
<li><p>‘binary_inv’</p></li>
<li><p>‘trunc’</p></li>
<li><p>‘tozero’</p></li>
<li><p>‘tozero_inv’</p></li>
<li><p>‘otsu’</p></li>
<li><p>‘triangle’</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Converts a color image to greyscale.</p></li>
<li><p>For a uint8 class image the slider range is 0 to 255.</p></li>
<li><p>For a floating point class image the slider range is 0 to 1.0</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="image.html" class="btn btn-neutral float-left" title="Image class core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="imagecolor.html" class="btn btn-neutral float-right" title="Color operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .
      <span class="lastupdated">Last updated on 31-Dec-2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>